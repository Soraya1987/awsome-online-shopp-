{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Delta\\\\Desktop\\\\My-Final-Projects\\\\shopping-cart\\\\src\\\\context\\\\CartContextProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, createContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  selectedItems: [],\n  itemsCounter: 0,\n  total: 0,\n  checkout: false\n};\n\nconst sumItems = items => {\n  const itemsCounter = items.reduce((total, product) => total + product.quantity, 0);\n  const total = items.reduce((total, product) => total + product.price * product.quantity, 0).toFixed(2);\n  return {\n    itemsCounter,\n    total\n  };\n};\n\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_ITEM\":\n      if (!state.selectedItems.find(item => item.id === action.payload.id)) {\n        state.selectedItems.push({ ...action.payload,\n          quantity: 1\n        });\n      }\n\n      return { ...state,\n        selectedItems: [...state.selectedItems],\n        ...sumItems(state.selectedItems),\n        checkout: false\n      };\n\n    case \"REMOVE_ITEM\":\n      const newSelectedItems = state.selectedItems.filter(item => item.id !== action.payload.id);\n      return { ...state,\n        selectedItems: [...newSelectedItems],\n        ...sumItems(newSelectedItems)\n      };\n\n    case \"INCREASE\":\n      const indexI = state.selectedItems.findIndex(item => item.id === action.payload.id);\n      state.selectedItems[indexI].quantity++;\n      return { ...state,\n        ...sumItems(state.selectedItems)\n      };\n\n    case \"DECREASE\":\n      console.log(action.payload.id);\n      console.dir(state.selectedItems);\n      const indexD = state.selectedItems.findIndex(item => {\n        console.log(item.id);\n        console.log(first);\n        console.log(item.id === action.paload.id);\n        return item.id === action.paload.id;\n      });\n      state.selectedItems[indexD].quantity--;\n      return { ...state,\n        ...sumItems(state.selectedItems)\n      };\n\n    case \"CHECKOUT\":\n      return {\n        selectedItems: [],\n        itemsCounter: 0,\n        total: 0,\n        checkout: true\n      };\n\n    case \"CLEAR\":\n      return {\n        selectedItems: [],\n        itemsCounter: 0,\n        total: 0,\n        checkout: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const cartContext = /*#__PURE__*/createContext();\n\nconst CartContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispath] = useReducer(cartReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(cartContext.Provider, {\n    value: {\n      state,\n      dispath\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CartContextProvider, \"UZJwDm2UlH1ljIyMHVX5Mko+2xY=\");\n\n_c = CartContextProvider;\nexport default CartContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["React","useReducer","createContext","initialState","selectedItems","itemsCounter","total","checkout","sumItems","items","reduce","product","quantity","price","toFixed","cartReducer","state","action","type","find","item","id","payload","push","newSelectedItems","filter","indexI","findIndex","console","log","dir","indexD","first","paload","cartContext","CartContextProvider","children","dispath"],"sources":["C:/Users/Delta/Desktop/My-Final-Projects/shopping-cart/src/context/CartContextProvider.js"],"sourcesContent":["import React,{useReducer,createContext} from \"react\";\r\n\r\nconst initialState={\r\n    selectedItems :[],\r\n    itemsCounter:0,\r\n    total:0,\r\n    checkout:false\r\n}\r\n\r\nconst sumItems=(items)=>{\r\n    const itemsCounter=items.reduce((total,product)=>total+product.quantity,0);\r\n    const total=items.reduce((total,product)=>total+product.price*product.quantity,0).toFixed(2);\r\n    return {itemsCounter,total}\r\n}\r\nconst cartReducer=(state,action)=>{\r\n    \r\n    switch(action.type){\r\n        case \"ADD_ITEM\":\r\n            if(!state.selectedItems.find(item=>item.id===action.payload.id)){\r\n                state.selectedItems.push({\r\n                    ...action.payload,quantity:1\r\n                })\r\n            }\r\n            return{...state,\r\n                   selectedItems:[...state.selectedItems],\r\n                   ...sumItems(state.selectedItems),\r\n                   checkout:false\r\n                }\r\n        \r\n        case \"REMOVE_ITEM\":\r\n            const newSelectedItems=state.selectedItems.filter(item=>item.id !==action.payload.id);\r\n            return {...state,selectedItems:[...newSelectedItems],\r\n                   ...sumItems(newSelectedItems)}\r\n        case \"INCREASE\":\r\n            const indexI=state.selectedItems.findIndex(item=>item.id===action.payload.id);\r\n            state.selectedItems[indexI].quantity++;\r\n            return{...state,\r\n                   ...sumItems(state.selectedItems)}\r\n        case \"DECREASE\":\r\n            console.log(action.payload.id);\r\n            console.dir(state.selectedItems)\r\n            const indexD=state.selectedItems.findIndex(item=>{\r\n                console.log(item.id)\r\n                console.log(first)\r\n                console.log(item.id===action.paload.id)\r\n                return item.id===action.paload.id\r\n            });\r\n            state.selectedItems[indexD].quantity--;\r\n            return{...state,\r\n                   ...sumItems(state.selectedItems)}\r\n        case \"CHECKOUT\":\r\n            return{\r\n                selectedItems :[],\r\n               itemsCounter:0,\r\n                total:0,\r\n                checkout:true\r\n            }\r\n        case \"CLEAR\":\r\n            return{\r\n                selectedItems :[],\r\n                itemsCounter:0,\r\n                total:0,\r\n                checkout:false\r\n            }\r\n        default: \r\n            return state;\r\n\r\n    }\r\n}\r\nexport const cartContext=createContext();\r\nconst CartContextProvider=({children})=>{\r\n    const[state,dispath]=useReducer(cartReducer,initialState)\r\n    return(\r\n        <cartContext.Provider value={{state,dispath}}>\r\n          {children}\r\n        </cartContext.Provider>\r\n    )\r\n}\r\nexport default CartContextProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module"}